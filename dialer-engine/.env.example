# ═══════════════════════════════════════════════════════════════
# DIALER ENGINE - Environment Variables
# Copy this file to .env and fill in the values
# ═══════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────
# DIALER API (RECOMMENDED - Lovable Cloud)
# Use these if deploying with Lovable Cloud backend
# No direct database access needed!
# ───────────────────────────────────────────────────────────────
DIALER_API_URL=https://yxosvymvtfxqhxlkhvqz.supabase.co/functions/v1/dialer-api
DIALER_API_KEY=your-dialer-api-key-here

# ───────────────────────────────────────────────────────────────
# SUPABASE (ALTERNATIVE - Direct Connection)
# Only needed if NOT using DIALER_API_URL/DIALER_API_KEY
# ───────────────────────────────────────────────────────────────
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ───────────────────────────────────────────────────────────────
# VOICE ADAPTER (REQUIRED)
# Choose one: asterisk_ami | freeswitch_esl | mock
# ───────────────────────────────────────────────────────────────
VOICE_ADAPTER=asterisk_ami

# ───────────────────────────────────────────────────────────────
# ASTERISK AMI (if VOICE_ADAPTER=asterisk_ami)
# ───────────────────────────────────────────────────────────────
ASTERISK_HOST=127.0.0.1
ASTERISK_AMI_PORT=5038
ASTERISK_AMI_USER=dialer
ASTERISK_AMI_SECRET=your-ami-secret
ASTERISK_CONTEXT=from-dialer

# ───────────────────────────────────────────────────────────────
# FREESWITCH ESL (if VOICE_ADAPTER=freeswitch_esl)
# ───────────────────────────────────────────────────────────────
FREESWITCH_HOST=127.0.0.1
FREESWITCH_ESL_PORT=8021
FREESWITCH_ESL_PASSWORD=ClueCon
FREESWITCH_CONTEXT=default

# ───────────────────────────────────────────────────────────────
# ENGINE CONFIGURATION
# Adjust based on your infrastructure capacity
# ───────────────────────────────────────────────────────────────

# Scheduler: How often to check campaigns and schedule calls
# Lower = more responsive, higher CPU usage
SCHEDULER_INTERVAL_MS=250

# Executor: How often to process originate jobs
# Lower = faster call initiation, higher load
EXECUTOR_INTERVAL_MS=100

# Timer Processor: How often to check for expired timers
# Controls timeout detection frequency
TIMER_PROCESSOR_INTERVAL_MS=500

# Maximum simultaneous originate commands
# Adjust based on your PBX capacity
MAX_CONCURRENT_ORIGINATES=50

# ───────────────────────────────────────────────────────────────
# LOGGING & ENVIRONMENT
# ───────────────────────────────────────────────────────────────

# Log level: trace | debug | info | warn | error | fatal
LOG_LEVEL=info

# Environment: development | production
NODE_ENV=production
